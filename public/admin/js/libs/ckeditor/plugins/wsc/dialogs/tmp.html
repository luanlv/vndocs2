<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>iframe</title>

		<style>
			html,body{
				margin: 0;
				height: 100%;
				font: 13px/1.555 "Trebuchet MS", sans-serif;
			***REMOVED***
			a{
			    color: #888;
			    font-weight: bold;
			    text-decoration: none;
			    border-bottom: 1px solid #888;
			***REMOVED***
			.main-box {
				color:#252525;
				padding: 3px 5px;
				text-align: justify;
			***REMOVED***
			.main-box p{margin: 0 0 14px;***REMOVED***
			.main-box .cerr{
			    color: #f00000;
			    border-bottom-color: #f00000;
			***REMOVED***
		</style>
	</head>
	<body>
		<div id="content" class="main-box"></div>
		<iframe src="" frameborder="0" id="spelltext" name="spelltext" style="display:none; width: 100%" ></iframe>
		<iframe src="" frameborder="0" id="loadsuggestfirst" name="loadsuggestfirst" style="display:none; width: 100%" ></iframe>
		<iframe src="" frameborder="0" id="loadspellsuggestall" name="loadspellsuggestall" style="display:none; width: 100%" ></iframe>
		<iframe src="" frameborder="0" id="loadOptionsForm" name="loadOptionsForm" style="display:none; width: 100%" ></iframe>
		<script>
		(function(window) {
			// Constructor Manager PostMessage

			var ManagerPostMessage = function() {
				var _init = function(handler) {
					if (document.addEventListener) {
						window.addEventListener('message', handler, false);
					***REMOVED*** else {
						window.attachEvent("onmessage", handler);
					***REMOVED***;
				***REMOVED***;
				var _sendCmd = function(o) {
					var str,
						type = Object.prototype.toString,
						fn = o.fn || null,
						id = o.id || '',
						target = o.target || window,
						message = o.message || { 'id': id ***REMOVED***;

					if (type.call(o.message) == "[object Object]") {
						(o.message['id']) ? o.message['id'] : o.message['id'] = id;
						message = o.message;
					***REMOVED***;

					str = JSON.stringify(message, fn);
					target.postMessage(str, '*');
				***REMOVED***;

				return {
					init: _init,
					send: _sendCmd
				***REMOVED***;
			***REMOVED***;

			var manageMessageTmp = new ManagerPostMessage;


				var appString = (function(){
					var spell = parent.CKEDITOR.config.wsc.DefaultParams.scriptPath;
					var serverUrl = parent.CKEDITOR.config.wsc.DefaultParams.serviceHost;
					return serverUrl + spell;
				***REMOVED***)();

				function loadScript(src, callback) {
				    var scriptTag = document.createElement("script");
				   		scriptTag.type = "text/javascript";
				   	callback ? callback : callback = function() {***REMOVED***;
				    if(scriptTag.readyState) {
				        //IE
				        scriptTag.onreadystatechange = function() {
				            if (scriptTag.readyState == "loaded" ||
				            scriptTag.readyState == "complete") {
				                scriptTag.onreadystatechange = null;
				                setTimeout(function(){scriptTag.parentNode.removeChild(scriptTag)***REMOVED***,1)
				                callback();
				          ***REMOVED***
				      ***REMOVED***;
				  ***REMOVED***else{
				        //Others
				        scriptTag.onload = function() {
				           setTimeout(function(){scriptTag.parentNode.removeChild(scriptTag)***REMOVED***,1);
				           callback();
				      ***REMOVED***;
				  ***REMOVED***;
				    scriptTag.src = src;
				    document.getElementsByTagName("head")[0].appendChild(scriptTag);
				***REMOVED***;


				window.onload = function(){
					 loadScript(appString, function(){
						manageMessageTmp.send({
							'id': 'iframeOnload',
							'target': window.parent
						***REMOVED***);
					***REMOVED***);
				***REMOVED***
			***REMOVED***)(this);
		</script>
	</body>
</html>
