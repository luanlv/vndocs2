/*!
 * typeahead.js 0.10.5
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
 */

!function(a){var b=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1***REMOVED***,isBlankString:function(a){return!a||/^\s*$/.test(a)***REMOVED***,escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\***REMOVED***\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")***REMOVED***,isString:function(a){return"string"==typeof a***REMOVED***,isNumber:function(a){return"number"==typeof a***REMOVED***,isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a***REMOVED***,toStr:function(a){return b.isUndefined(a)||null===a?"":a+""***REMOVED***,bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)***REMOVED***a.each(b,d)***REMOVED***,map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1***REMOVED***),!!d):d***REMOVED***,some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0***REMOVED***),!!d):d***REMOVED***,mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++***REMOVED******REMOVED***(),templatify:function(b){function c(){return String(b)***REMOVED***return a.isFunction(b)?b:c***REMOVED***,defer:function(a){setTimeout(a,0)***REMOVED***,debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))***REMOVED***,g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e***REMOVED******REMOVED***,throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)***REMOVED***,function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f***REMOVED******REMOVED***,noop:function(){***REMOVED******REMOVED******REMOVED***(),c="0.10.5",d=function(){"use strict";function a(a){return a=b.toStr(a),a?a.split(/\s+/):[]***REMOVED***function c(a){return a=b.toStr(a),a?a.split(/\W+/):[]***REMOVED***function d(a){return function(){var c=[].slice.call(arguments,0);return function(d){var e=[];return b.each(c,function(c){e=e.concat(a(b.toStr(d[c])))***REMOVED***),e***REMOVED******REMOVED******REMOVED***return{nonword:c,whitespace:a,obj:{nonword:d(c),whitespace:d(a)***REMOVED******REMOVED******REMOVED***(),e=function(){"use strict";function c(c){this.maxSize=b.isNumber(c)?c:100,this.reset(),this.maxSize<=0&&(this.set=this.get=a.noop)***REMOVED***function d(){this.head=this.tail=null***REMOVED***function e(a,b){this.key=a,this.val=b,this.prev=this.next=null***REMOVED***return b.mixin(c.prototype,{set:function(a,b){var c,d=this.list.tail;this.size>=this.maxSize&&(this.list.remove(d),delete this.hash[d.key]),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new e(a,b),this.list.add(c),this.hash[a]=c,this.size++)***REMOVED***,get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0***REMOVED***,reset:function(){this.size=0,this.hash={***REMOVED***,this.list=new d***REMOVED******REMOVED***),b.mixin(d.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a***REMOVED***,remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev***REMOVED***,moveToFront:function(a){this.remove(a),this.add(a)***REMOVED******REMOVED***),c***REMOVED***(),f=function(){"use strict";function a(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+b.escapeRegExChars(this.prefix))***REMOVED***function c(){return(new Date).getTime()***REMOVED***function d(a){return JSON.stringify(b.isUndefined(a)?null:a)***REMOVED***function e(a){return JSON.parse(a)***REMOVED***var f,g;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")***REMOVED***catch(h){f=null***REMOVED***return g=f&&window.JSON?{_prefix:function(a){return this.prefix+a***REMOVED***,_ttlKey:function(a){return this._prefix(a)+this.ttlKey***REMOVED***,get:function(a){return this.isExpired(a)&&this.remove(a),e(f.getItem(this._prefix(a)))***REMOVED***,set:function(a,e,g){return b.isNumber(g)?f.setItem(this._ttlKey(a),d(c()+g)):f.removeItem(this._ttlKey(a)),f.setItem(this._prefix(a),d(e))***REMOVED***,remove:function(a){return f.removeItem(this._ttlKey(a)),f.removeItem(this._prefix(a)),this***REMOVED***,clear:function(){var a,b,c=[],d=f.length;for(a=0;d>a;a++)(b=f.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=c.length;a--;)this.remove(c[a]);return this***REMOVED***,isExpired:function(a){var d=e(f.getItem(this._ttlKey(a)));return b.isNumber(d)&&c()>d?!0:!1***REMOVED******REMOVED***:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop***REMOVED***,b.mixin(a.prototype,g),a***REMOVED***(),g=function(){"use strict";function c(b){b=b||{***REMOVED***,this.cancelled=!1,this.lastUrl=null,this._send=b.transport?d(b.transport):a.ajax,this._get=b.rateLimiter?b.rateLimiter(this._get):this._get,this._cache=b.cache===!1?new e(0):i***REMOVED***function d(c){return function(d,e){function f(a){b.defer(function(){h.resolve(a)***REMOVED***)***REMOVED***function g(a){b.defer(function(){h.reject(a)***REMOVED***)***REMOVED***var h=a.Deferred();return c(d,e,f,g),h***REMOVED******REMOVED***var f=0,g={***REMOVED***,h=6,i=new e(10);return c.setMaxPendingRequests=function(a){h=a***REMOVED***,c.resetCache=function(){i.reset()***REMOVED***,b.mixin(c.prototype,{_get:function(a,b,c){function d(b){c&&c(null,b),k._cache.set(a,b)***REMOVED***function e(){c&&c(!0)***REMOVED***function i(){f--,delete g[a],k.onDeckRequestArgs&&(k._get.apply(k,k.onDeckRequestArgs),k.onDeckRequestArgs=null)***REMOVED***var j,k=this;this.cancelled||a!==this.lastUrl||((j=g[a])?j.done(d).fail(e):h>f?(f++,g[a]=this._send(a,b).done(d).fail(e).always(i)):this.onDeckRequestArgs=[].slice.call(arguments,0))***REMOVED***,get:function(a,c,d){var e;return b.isFunction(c)&&(d=c,c={***REMOVED***),this.cancelled=!1,this.lastUrl=a,(e=this._cache.get(a))?b.defer(function(){d&&d(null,e)***REMOVED***):this._get(a,c,d),!!e***REMOVED***,cancel:function(){this.cancelled=!0***REMOVED******REMOVED***),c***REMOVED***(),h=function(){"use strict";function c(b){b=b||{***REMOVED***,b.datumTokenizer&&b.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=b.datumTokenizer,this.queryTokenizer=b.queryTokenizer,this.reset()***REMOVED***function d(a){return a=b.filter(a,function(a){return!!a***REMOVED***),a=b.map(a,function(a){return a.toLowerCase()***REMOVED***)***REMOVED***function e(){return{ids:[],children:{***REMOVED******REMOVED******REMOVED***function f(a){for(var b={***REMOVED***,c=[],d=0,e=a.length;e>d;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c***REMOVED***function g(a,b){function c(a,b){return a-b***REMOVED***var d=0,e=0,f=[];a=a.sort(c),b=b.sort(c);for(var g=a.length,h=b.length;g>d&&h>e;)a[d]<b[e]?d++:a[d]>b[e]?e++:(f.push(a[d]),d++,e++);return f***REMOVED***return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie***REMOVED***,add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;f=c.datums.push(a)-1,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b.children[g]||(b.children[g]=e()),b.ids.push(f)***REMOVED***)***REMOVED***)***REMOVED***,get:function(a){var c,e,h=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=h.trie,c=a.split("");b&&(d=c.shift());)b=b.children[d];return b&&0===c.length?(f=b.ids.slice(0),void(e=e?g(e,f):f)):(e=[],!1)***REMOVED***),e?b.map(f(e),function(a){return h.datums[a]***REMOVED***):[]***REMOVED***,reset:function(){this.datums=[],this.trie=e()***REMOVED***,serialize:function(){return{datums:this.datums,trie:this.trie***REMOVED******REMOVED******REMOVED***),c***REMOVED***(),i=function(){"use strict";function d(a){return a.local||null***REMOVED***function e(d){var e,f;return f={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{***REMOVED******REMOVED***,(e=d.prefetch||null)&&(e=b.isString(e)?{url:e***REMOVED***:e,e=b.mixin(f,e),e.thumbprint=c+e.thumbprint,e.ajax.type=e.ajax.type||"GET",e.ajax.dataType=e.ajax.dataType||"json",!e.url&&a.error("prefetch requires url to be set")),e***REMOVED***function f(c){function d(a){return function(c){return b.debounce(c,a)***REMOVED******REMOVED***function e(a){return function(c){return b.throttle(c,a)***REMOVED******REMOVED***var f,g;return g={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{***REMOVED******REMOVED***,(f=c.remote||null)&&(f=b.isString(f)?{url:f***REMOVED***:f,f=b.mixin(g,f),f.rateLimiter=/^throttle$/i.test(f.rateLimitBy)?e(f.rateLimitWait):d(f.rateLimitWait),f.ajax.type=f.ajax.type||"GET",f.ajax.dataType=f.ajax.dataType||"json",delete f.rateLimitBy,delete f.rateLimitWait,!f.url&&a.error("remote requires url to be set")),f***REMOVED***return{local:d,prefetch:e,remote:f***REMOVED******REMOVED***();!function(c){"use strict";function e(b){b&&(b.local||b.prefetch||b.remote)||a.error("one of local, prefetch, or remote is required"),this.limit=b.limit||5,this.sorter=j(b.sorter),this.dupDetector=b.dupDetector||k,this.local=i.local(b),this.prefetch=i.prefetch(b),this.remote=i.remote(b),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new h({datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer***REMOVED***),this.storage=this.cacheKey?new f(this.cacheKey):null***REMOVED***function j(a){function c(b){return b.sort(a)***REMOVED***function d(a){return a***REMOVED***return b.isFunction(a)?c:d***REMOVED***function k(){return!1***REMOVED***var l,m;return l=c.Bloodhound,m={data:"data",protocol:"protocol",thumbprint:"thumbprint"***REMOVED***,c.Bloodhound=e,e.noConflict=function(){return c.Bloodhound=l,e***REMOVED***,e.tokenizers=d,b.mixin(e.prototype,{_loadPrefetch:function(b){function c(a){f.clear(),f.add(b.filter?b.filter(a):a),f._saveToStorage(f.index.serialize(),b.thumbprint,b.ttl)***REMOVED***var d,e,f=this;return(d=this._readFromStorage(b.thumbprint))?(this.index.bootstrap(d),e=a.Deferred().resolve()):e=a.ajax(b.url,b.ajax).done(c),e***REMOVED***,_getFromRemote:function(a,b){function c(a,c){b(a?[]:f.remote.filter?f.remote.filter(c):c)***REMOVED***var d,e,f=this;if(this.transport)return a=a||"",e=encodeURIComponent(a),d=this.remote.replace?this.remote.replace(this.remote.url,a):this.remote.url.replace(this.remote.wildcard,e),this.transport.get(d,this.remote.ajax,c)***REMOVED***,_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()***REMOVED***,_saveToStorage:function(a,b,c){this.storage&&(this.storage.set(m.data,a,c),this.storage.set(m.protocol,location.protocol,c),this.storage.set(m.thumbprint,b,c))***REMOVED***,_readFromStorage:function(a){var b,c={***REMOVED***;return this.storage&&(c.data=this.storage.get(m.data),c.protocol=this.storage.get(m.protocol),c.thumbprint=this.storage.get(m.thumbprint)),b=c.thumbprint!==a||c.protocol!==location.protocol,c.data&&!b?c.data:null***REMOVED***,_initialize:function(){function c(){e.add(b.isFunction(f)?f():f)***REMOVED***var d,e=this,f=this.local;return d=this.prefetch?this._loadPrefetch(this.prefetch):a.Deferred().resolve(),f&&d.done(c),this.transport=this.remote?new g(this.remote):null,this.initPromise=d.promise()***REMOVED***,initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise***REMOVED***,add:function(a){this.index.add(a)***REMOVED***,get:function(a,c){function d(a){var d=f.slice(0);b.each(a,function(a){var c;return c=b.some(d,function(b){return e.dupDetector(a,b)***REMOVED***),!c&&d.push(a),d.length<e.limit***REMOVED***),c&&c(e.sorter(d))***REMOVED***var e=this,f=[],g=!1;f=this.index.get(a),f=this.sorter(f).slice(0,this.limit),f.length<this.limit?g=this._getFromRemote(a,d):this._cancelLastRemoteRequest(),g||(f.length>0||!this.transport)&&c&&c(f)***REMOVED***,clear:function(){this.index.reset()***REMOVED***,clearPrefetchCache:function(){this.storage&&this.storage.clear()***REMOVED***,clearRemoteCache:function(){this.transport&&g.resetCache()***REMOVED***,ttAdapter:function(){return b.bind(this.get,this)***REMOVED******REMOVED***),e***REMOVED***(this)***REMOVED***(window.jQuery);