//************************************************************************//
// Background property for adding multiple backgrounds using shorthand
// notation.
//************************************************************************//

@mixin background($backgrounds...) {
  $webkit-backgrounds: ();
  $spec-backgrounds: ();

  @each $background in $backgrounds {
    $webkit-background: ();
    $spec-background: ();
    $background-type: type-of($background);

    @if $background-type == string or $background-type == list {
      $background-str: if($background-type == list, nth($background, 1), $background);

      $url-str:       str-slice($background-str, 1, 3);
      $gradient-type: str-slice($background-str, 1, 6);

      @if $url-str == "url" {
        $webkit-background: $background;
        $spec-background:   $background;
    ***REMOVED***

      @else if $gradient-type == "linear" {
        $gradients: _linear-gradient-parser("#{$background***REMOVED***");
        $webkit-background: map-get($gradients, webkit-image);
        $spec-background:   map-get($gradients, spec-image);
    ***REMOVED***

      @else if $gradient-type == "radial" {
        $gradients: _radial-gradient-parser("#{$background***REMOVED***");
        $webkit-background: map-get($gradients, webkit-image);
        $spec-background:   map-get($gradients, spec-image);
    ***REMOVED***

      @else {
        $webkit-background: $background;
        $spec-background:   $background;
    ***REMOVED***
  ***REMOVED***

    @else {
      $webkit-background: $background;
      $spec-background:   $background;
  ***REMOVED***

    $webkit-backgrounds: append($webkit-backgrounds, $webkit-background, comma);
    $spec-backgrounds:   append($spec-backgrounds,   $spec-background,   comma);
***REMOVED***

  background: $webkit-backgrounds;
  background: $spec-backgrounds;
***REMOVED***
